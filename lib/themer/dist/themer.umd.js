var __assign=Object.assign;!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("lodash")):"function"==typeof define&&define.amd?define(["exports","lodash"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).themer={},e.lodash)}(this,(function(e,t){"use strict";function n(e){const t=String(e);return t.startsWith("--")?t:`--${t}`}function r(e,t=[],n={}){return Object.keys(e).reduce(((o,c)=>{const s=e[c],a=[...t,c];return"string"==typeof s?o[a.join("-")]=s:o=r(s,a,n),o}),n)}function o(e){const{colors:t}=e.value.data;return __assign({},t)}function c(e){return e.reduce(((e,t)=>{const o=t.value.data;return Object.keys(o).forEach((t=>{const c=function(e){const t=r(e);return Object.keys(t).reduce(((e,t)=>(e[t]=`var(${n(t)})`,e)),{})}(o[t]);Object.keys(c).forEach((n=>{e[t]||(e[t]=[]),e[t].includes(n)||e[t].push(n)}))})),e}),{})}function s(){try{const e=document.querySelector(":root");return e||void 0}catch(e){return}}function a(e,c){if("string"==typeof c){const t=e.themes.find((e=>e.value.name===c));if(!t)return!1;c=t}const s=o(c=t.cloneDeep(c));return!!e.element&&(function(e,t){if(!e)return;const o=r(t);Object.keys(o).forEach((t=>{e.style.setProperty(n(t),o[t])}))}(e.element,s),e.themeValueUpdater instanceof Function?e.themeValueUpdater(c):e.theme.value=c.value,!0)}function u(e){return Object.keys(e).reduce(((t,r)=>(t[r]||(t[r]={}),e[r].forEach((e=>{t[r][e]=`var(${n(e)})`})),t)),{})}e.createDefaultElement=s,e.createTailwindPreset=function(e){const t=c(e.themes);return{theme:{extend:__assign({},u(t))}}},e.createTailwindThemeData=u,e.createTheme=function(e){return{value:e instanceof Function?e():e}},e.createThemeManager=function(e){const t=function(e){let t,n=s(),r=[];if(Array.isArray(e)){if(!e.length)throw new Error("'themes' must be filled");r=[...e]}else if(o=e,"[object Object]"===Object.prototype.toString.apply(o)){const{element:t,themes:o}=e;n&&(n=t),Array.isArray(r)&&(r=o)}var o;t=r[0];const c={element:n,themes:r,theme:t};n&&a(c,r[0]);return c}(e);return t.setTheme=e=>a(t,e),t},e.createUsefulThemeVariables=o,e.getThemeDataShape=c,e.setTheme=a,Object.defineProperty(e,"__esModule",{value:!0}),e[Symbol.toStringTag]="Module"}));
