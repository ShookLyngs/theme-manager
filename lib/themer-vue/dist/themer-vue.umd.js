!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["themer-vue"]={},e.Vue)}(this,(function(e,t){"use strict";var n=Object.assign;function r(e,t=[],n={}){return Object.keys(e).reduce(((o,u)=>{const i=e[u],c=[...t,u];return"string"==typeof i?o[c.join("-")]=i:o=r(i,c,n),o}),n)}function o(e){const t=function(e){let t,n=function(){try{return document.querySelector(":root")||void 0}catch(e){return}}(),r=[];if(Array.isArray(e)){if(!e.length)throw new Error("'themes' must be filled");r=[...e]}else if(o=e,"[object Object]"===Object.prototype.toString.apply(o)){const{element:t,themes:o}=e;n&&(n=t),Array.isArray(r)&&(r=o)}var o;t=r[0];const i={element:n,themes:r,theme:t};return n&&u(i,r[0]),i}(e);return n(n({},t),{setTheme:e=>u(t,e)})}function u(e,t){if("string"==typeof t){const n=e.themes.find((e=>e.value.name===t));if(!n)return!1;t=n}const o=function(e){const{colors:t}=e.value.data;return n({},t)}(t);return!!e.element&&(function(e,t){if(!e)return;const n=r(t);Object.keys(n).forEach((t=>{e.style.setProperty(function(e){const t=String(e);return t.startsWith("--")?t:`--${t}`}(t),n[t])}))}(e.element,o),e.theme.value=t.value,!0)}const i="themeManager";e.createTheme=function(e){return{value:e instanceof Function?e():e}},e.createThemeManager=function(e){const n=o(e);n.theme=t.ref(n.theme.value);const r=n.setTheme;return n.setTheme=e=>r.call(n,e),{manager:n,install(e){e.provide(i,n),e.config.globalProperties.$themeManager=n}}},e.useThemeManager=function(){return t.inject(i)},Object.defineProperty(e,"__esModule",{value:!0}),e[Symbol.toStringTag]="Module"}));
